<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>Valentine üíôüíó</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            height: 100vh;
            font-family: 'Poppins', sans-serif;
            background: radial-gradient(circle at top, #0b3c5d, #020c1b);
            overflow: hidden;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            /* iPhone 14 Pro Dynamic Island / Notch Protection */
            padding-top: env(safe-area-inset-top);
        }

        .heart-bg {
            position: fixed;
            top: -10%;
            color: rgba(255, 182, 193, 0.3);
            font-size: 20px;
            user-select: none;
            z-index: -1;
            animation: move linear infinite;
        }

        @keyframes move {
            0% { transform: translateY(0vh) translateX(0px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(110vh) translateX(50px) rotate(360deg); opacity: 0; }
        }

        .card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            padding: 25px;
            width: 85%;
            max-width: 380px; /* Perfect for iPhone 14 Pro width */
            text-align: center;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 0 30px rgba(255,105,180,0.3);
            z-index: 10;
        }

        h2 { margin-bottom: 20px; font-weight: 600; line-height: 1.4; font-size: 22px; }

        button {
            border: none;
            padding: 15px 35px;
            font-size: 18px;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
        }

        #yesBtn { background: #ff4d6d; color: white; box-shadow: 0 4px 15px rgba(255, 77, 109, 0.4); }

        #floatingNo {
            position: absolute;
            padding: 12px 25px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            backdrop-filter: blur(10px);
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            user-select: none;
            z-index: 20;
            border: 1px solid rgba(255,255,255,0.3);
        }

        .final {
            max-height: 75vh;
            overflow-y: auto;
            padding-right: 10px;
            text-align: left;
        }

        /* Improved Scrollbar for Mobile */
        .final::-webkit-scrollbar { width: 4px; }
        .final::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.3); border-radius: 10px; }

        .final img {
            width: 100%;
            border-radius: 15px;
            margin: 15px 0;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        }

        .firework {
            position: fixed;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            z-index: 100;
            animation: explode 1s ease-out forwards;
        }

        @keyframes explode {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(12); opacity: 0; }
        }
    </style>
</head>
<body>

<div class="card" id="card">
    <div id="initialContent">
        <h2>Will you be my Valentine, Metti? üíó</h2>
        <button id="yesBtn">Yes üíû</button>
    </div>
</div>

<div id="floatingNo">No üòè</div>

<audio id="bgMusic" src="music.mp3" loop></audio>

<script>
    const noTexts = [
        "Wait‚Ä¶ are you sure? üò≥",
        "Really? üëÄ",
        "Try again üòå",
        "Are you sure mettiii? ü•∫",
        "Haha nice try üòà",
        "No escape! üòé",
        "Still no? üòú",
        "You‚Äôre testing me! üò§",
        "Nope. Not happening ‚ùå"
    ];

    let noIndex = 0;
    const floatingNo = document.getElementById("floatingNo");
    const card = document.getElementById("card");

    function createHeart() {
        const heart = document.createElement("div");
        heart.className = "heart-bg";
        heart.innerHTML = "‚ù§Ô∏è";
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.animationDuration = (Math.random() * 3 + 3) + "s";
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 6000);
    }
    setInterval(createHeart, 400);

    function moveNo() {
        const x = Math.random() * (window.innerWidth - 180);
        const y = Math.random() * (window.innerHeight - 60);
        floatingNo.style.left = `${x}px`;
        floatingNo.style.top = `${y}px`;
        floatingNo.textContent = noTexts[noIndex % noTexts.length];
        noIndex++;
    }

    floatingNo.addEventListener("touchstart", (e) => { e.preventDefault(); moveNo(); });
    floatingNo.addEventListener("mouseover", moveNo);
    moveNo();

    function fireworks() {
        for (let i = 0; i < 35; i++) {
            const f = document.createElement("div");
            f.className = "firework";
            f.style.left = Math.random() * window.innerWidth + "px";
            f.style.top = Math.random() * window.innerHeight + "px";
            f.style.background = `hsl(${Math.random() * 360}, 100%, 70%)`;
            document.body.appendChild(f);
            setTimeout(() => f.remove(), 1000);
        }
    }

    document.getElementById("yesBtn").onclick = () => {
        const audio = document.getElementById("bgMusic");
        audio.play().catch(err => console.log("Audio waiting"));
        
        floatingNo.style.display = "none";
        fireworks();

        card.innerHTML = `
        <div class="final">
            <h2 style="text-align:center">üíñ You make my heart smile üíñ</h2>
            <img src="image.jpg" alt="Our Memory">
            <div style="font-size: 15px; line-height: 1.6;">
                <p><strong>Hi Metti üíó</strong></p>
                <p>I miss you a lot and I‚Äôm really sad that we can‚Äôt meet for your birthday or Valentine‚Äôs Day üíî But nothing in this world can change the way I think about you...</p>
                
                <p><strong>I see you üëÄ‚ú®</strong><br>
                <strong>I choose you üíû</strong><br>
                Today, tomorrow, always ‚ôæÔ∏è‚ù§Ô∏è</p>

                <p>
                    ADD YOUR FULL MESSAGE HERE...
                </p>
                </div>
        </div>`;
    };
</script>

</body>
</html>
