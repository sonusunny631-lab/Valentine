<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <title>Valentine ğŸ’™ğŸ’—</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        body {
            margin: 0;
            height: 100vh;
            font-family: 'Poppins', sans-serif;
            background: radial-gradient(circle at top, #0b3c5d, #020c1b);
            overflow: hidden;
            color: white;
            display: flex;
            justify-content: center;
            align-items: center;
            /* iPhone 14 Pro Dynamic Island Protection */
            padding-top: env(safe-area-inset-top);
        }

        /* Drifting Hearts */
        .heart-bg {
            position: fixed;
            top: -10%;
            color: rgba(255, 182, 193, 0.3);
            font-size: 20px;
            user-select: none;
            z-index: -1;
            animation: move linear infinite;
        }

        @keyframes move {
            0% { transform: translateY(0vh) translateX(0px) rotate(0deg); opacity: 1; }
            100% { transform: translateY(110vh) translateX(50px) rotate(360deg); opacity: 0; }
        }

        .card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 24px;
            padding: 25px;
            width: 88%;
            max-width: 380px;
            text-align: center;
            backdrop-filter: blur(15px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 0 40px rgba(255,105,180,0.25);
            z-index: 10;
        }

        h2 { margin-bottom: 20px; font-weight: 600; line-height: 1.4; font-size: 22px; }

        button {
            border: none;
            padding: 16px 40px;
            font-size: 18px;
            border-radius: 50px;
            cursor: pointer;
            transition: transform 0.2s;
            font-family: 'Poppins', sans-serif;
            font-weight: 600;
        }

        #yesBtn { background: #ff4d6d; color: white; box-shadow: 0 4px 20px rgba(255, 77, 109, 0.4); }

        #floatingNo {
            position: absolute;
            padding: 12px 25px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 50px;
            backdrop-filter: blur(10px);
            cursor: pointer;
            transition: all 0.3s ease;
            white-space: nowrap;
            user-select: none;
            z-index: 20;
            border: 1px solid rgba(255,255,255,0.3);
        }

        .final {
            max-height: 78vh;
            overflow-y: auto;
            padding-right: 8px;
            text-align: left;
        }

        .final::-webkit-scrollbar { width: 4px; }
        .final::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.3); border-radius: 10px; }

        .final img {
            width: 100%;
            border-radius: 18px;
            margin: 10px 0 20px 0;
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
        }

        .firework {
            position: fixed;
            width: 4px;
            height: 4px;
            border-radius: 50%;
            z-index: 100;
            animation: explode 1s ease-out forwards;
        }

        @keyframes explode {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(15); opacity: 0; }
        }
    </style>
</head>
<body>

<div class="card" id="card">
    <div id="initialContent">
        <h2>Will you be my Valentine, Metti? ğŸ’—</h2>
        <button id="yesBtn">Yes ğŸ’</button>
    </div>
</div>

<div id="floatingNo">No ğŸ˜</div>

<audio id="bgMusic" src="music.mp3" loop></audio>

<script>
    const noTexts = [
        "Waitâ€¦ are you sure? ğŸ˜³",
        "Really? ğŸ‘€",
        "Try again ğŸ˜Œ",
        "Are you sure mettiii? ğŸ¥º",
        "Haha nice try ğŸ˜ˆ",
        "No escape! ğŸ˜",
        "Still no? ğŸ˜œ",
        "Youâ€™re testing me! ğŸ˜¤",
        "Nope. Not happening âŒ"
    ];

    let noIndex = -1; // Set to -1 so the first call doesn't change the text
    const floatingNo = document.getElementById("floatingNo");
    const card = document.getElementById("card");

    function createHeart() {
        const heart = document.createElement("div");
        heart.className = "heart-bg";
        heart.innerHTML = "â¤ï¸";
        heart.style.left = Math.random() * 100 + "vw";
        heart.style.animationDuration = (Math.random() * 3 + 3) + "s";
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 6000);
    }
    setInterval(createHeart, 450);

    function moveNo() {
        const x = Math.random() * (window.innerWidth - 180);
        const y = Math.random() * (window.innerHeight - 60);
        floatingNo.style.left = `${x}px`;
        floatingNo.style.top = `${y}px`;
        
        // Only change text if we have actually started interacting
        if (noIndex >= 0) {
            floatingNo.textContent = noTexts[noIndex % noTexts.length];
        }
        noIndex++;
    }

    floatingNo.addEventListener("touchstart", (e) => { e.preventDefault(); moveNo(); });
    floatingNo.addEventListener("mouseover", moveNo);
    
    // Initial placement without changing "No ğŸ˜" text
    moveNo();

    function fireworks() {
        for (let i = 0; i < 40; i++) {
            const f = document.createElement("div");
            f.className = "firework";
            f.style.left = Math.random() * window.innerWidth + "px";
            f.style.top = Math.random() * window.innerHeight + "px";
            f.style.background = `hsl(${Math.random() * 360}, 100%, 75%)`;
            document.body.appendChild(f);
            setTimeout(() => f.remove(), 1000);
        }
    }

    document.getElementById("yesBtn").onclick = () => {
        const audio = document.getElementById("bgMusic");
        audio.play().catch(err => console.log("Audio waiting"));
        
        floatingNo.style.display = "none";
        fireworks();

        card.innerHTML = `
        <div class="final">
            <h2 style="text-align:center">ğŸ’– You make my heart smile ğŸ’–</h2>
            <img src="image.jpg" alt="Our Memory">
            <div style="font-size: 15.5px; line-height: 1.7;">
                <p><strong>Hi Metti ğŸ’—</strong><br><br>
                I miss you a lot and Iâ€™m really sad that we canâ€™t meet for your birthday or Valentineâ€™s Day ğŸ’” But nothing in this world can change the way I think about you. You make me feel absolutely special and loved every single day just by being with me ğŸ«‚âœ¨</p>

                <p>You are my emotional comfort human, my hug human ğŸ¤, cuddles, kisses â€” everything, my whole life. I want you to have the best life, and I wish to do it together ğŸ’ Together, I feel so secure and happy like Iâ€™ve never felt earlier ğŸ¥¹â¤ï¸ Youâ€™re the best thing that has happened to me, and I respect who you are â€” and most importantly, I love who you are, completely ğŸ’–</p>

                <p>We may not be perfect, but I love it when we are together ğŸ«¶ I will try my best in life to make you and our dreams happy and strong ğŸŒ±âœ¨</p>

                <p>Without a plan, I met you. While getting to know each other, we both were able to see that we can connect ğŸ¤ I think that is what is keeping us together, and I donâ€™t want to lose my favourite hooman at any cost ğŸ¥ºğŸ¾ For me, you are rare â€” like 1 in 7 billion ğŸŒğŸ’«</p>

                <p>I may be able to meet many women, I may be able to win over some good women too, but nobody is ever going to be as cute and good as you ğŸ¥° You are someone I feel is the best to raise my kids with ğŸ‘¶â¤ï¸ And it would stay the same even if you were not a doctor too. What matters is you. Just you being yourself ğŸ’—</p>

                <p>I can keep talking about how much I like you as a partner â€” there is no one in this world I want to be with other than my home, my family, and my cute lil fluff box ğŸ»ğŸ’</p>

                <p style="font-weight: 600; text-align: center;">
                I choose you.<br>
                Today, tomorrow, and forever â™¾ï¸â¤ï¸
                </p>

                <p style="text-align: center;">
                Thanks for being my VALENTINE, fluff ball ğŸ’•<br>
                Ummmmwahhh ğŸ˜˜ğŸ’‹
                </p>
            </div>
        </div>`;
    };
</script>

</body>
</html>
